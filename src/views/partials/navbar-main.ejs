<% const showPostCta = typeof showCta === "undefined" ? true : showCta; %>
<header class="sticky top-0 z-50 w-full border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16 md:h-20 gap-4">
      <a class="flex items-center gap-3 flex-shrink-0" href="/listings">
        <div class="size-8 md:size-9 rounded-lg bg-primary/10 text-primary flex items-center justify-center">
          <span class="material-symbols-outlined text-[22px]">search</span>
        </div>
        <h2 class="text-slate-900 dark:text-slate-100 text-xl font-bold tracking-tight">FindIt</h2>
      </a>

      <nav class="hidden lg:flex items-center gap-6">
        <a
          class="<%= activePage === 'listings' ? 'text-primary font-bold' : 'text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary' %> text-sm transition-colors"
          href="/listings"
        >Listings</a>
        <a
          class="<%= activePage === 'my-notices' ? 'text-primary font-bold' : 'text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary' %> text-sm transition-colors"
          href="/my-notices"
        >My Notices</a>
        <a
          class="<%= activePage === 'help' ? 'text-primary font-bold' : 'text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary' %> text-sm transition-colors"
          href="/help"
        >Help</a>
        <a
          class="<%= activePage === 'about' ? 'text-primary font-bold' : 'text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary' %> text-sm transition-colors"
          href="/about"
        >About</a>
        <a
          class="<%= activePage === 'contact' ? 'text-primary font-bold' : 'text-slate-600 dark:text-slate-300 hover:text-primary dark:hover:text-primary' %> text-sm transition-colors"
          href="/contact"
        >Contact</a>
      </nav>

      <div class="flex items-center gap-3">
        <% if (currentUser) { %>
        <a
          href="/my-notices"
          class="hidden sm:flex px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors"
        >Hi, <%= currentUser.name %></a>
        <form action="/logout" method="POST">
          <button
            type="submit"
            class="px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors"
          >Log Out</button>
        </form>
        <% } else { %>
        <a
          href="/login"
          class="hidden sm:flex px-4 py-2 text-sm font-semibold text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors"
        >Log In</a>
        <a
          href="/signup"
          class="px-4 py-2 text-sm font-bold text-white bg-primary hover:bg-blue-700 rounded-lg transition-colors"
        >Sign Up</a>
        <% } %>
        <% if (showPostCta) { %>
        <a
          href="/notices/new"
          class="hidden sm:flex items-center gap-1.5 px-4 py-2 text-sm font-semibold text-white rounded-lg transition-colors <%= activePage === 'post-notice' ? 'bg-blue-700' : 'bg-primary hover:bg-blue-700' %>"
        >
          <span class="material-symbols-outlined text-[18px]">add_circle</span>
          Post Notice
        </a>
        <% } %>
      </div>
    </div>
  </div>
</header>
